{"ast":null,"code":"import axIos from \"axios\";\n\n// Modify the following address according to your environment\nconst serverUrl = 'http://localhost:8080';\nconst instanceForm = axIos.create({\n  baseURL: serverUrl,\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded; charset=utf-8\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\nconst instanceJson = axIos.create({\n  baseURL: serverUrl,\n  headers: {\n    \"Content-Type\": \"application/json; charset=utf-8\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\nfunction getAuthorization() {\n  let Author = sessionStorage.getItem('Authorization');\n  if (Author === null) return '';\n  return Author;\n}\ninstanceForm.interceptors.request.use(config => {\n  config.headers.authorization = getAuthorization();\n  return config;\n});\ninstanceJson.interceptors.request.use(config => {\n  config.headers.authorization = getAuthorization();\n  return config;\n});\nconst instance = type => {\n  if (type === 'form') {\n    return instanceForm;\n  }\n  if (type === 'json') {\n    return instanceJson;\n  }\n};\nexport default instance;","map":{"version":3,"names":["axIos","serverUrl","instanceForm","create","baseURL","headers","instanceJson","getAuthorization","Author","sessionStorage","getItem","interceptors","request","use","config","authorization","instance","type"],"sources":["C:/Users/wanjo/IdeaProjects/FaceLogin/FaceLoginClient/src/tool/http-common.js"],"sourcesContent":["import axIos from \"axios\";\r\n\r\n// Modify the following address according to your environment\r\nconst serverUrl='http://localhost:8080';\r\n\r\nconst instanceForm=axIos.create({\r\n    baseURL: serverUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded; charset=utf-8\",\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n});\r\n\r\nconst instanceJson=axIos.create({\r\n    baseURL: serverUrl,\r\n    headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    }\r\n});\r\n\r\nfunction getAuthorization () {\r\n    let Author = sessionStorage.getItem('Authorization')\r\n    if (Author === null) return ''\r\n    return Author\r\n}\r\n\r\ninstanceForm.interceptors.request.use(\r\n    (config) => {\r\n        config.headers.authorization = getAuthorization()\r\n        return config\r\n    }\r\n)\r\n\r\ninstanceJson.interceptors.request.use(\r\n    (config) => {\r\n        config.headers.authorization = getAuthorization()\r\n        return config\r\n    }\r\n)\r\n\r\nconst instance = (type) => {\r\n    if(type==='form'){\r\n        return instanceForm\r\n    }\r\n    if(type==='json'){\r\n        return instanceJson\r\n    }\r\n}\r\n\r\nexport default instance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,SAAS,GAAC,uBAAuB;AAEvC,MAAMC,YAAY,GAACF,KAAK,CAACG,MAAM,CAAC;EAC5BC,OAAO,EAAEH,SAAS;EAClBI,OAAO,EAAE;IACL,cAAc,EAAE,kDAAkD;IAClE,6BAA6B,EAAE;EACnC;AACJ,CAAC,CAAC;AAEF,MAAMC,YAAY,GAACN,KAAK,CAACG,MAAM,CAAC;EAC5BC,OAAO,EAAEH,SAAS;EAClBI,OAAO,EAAE;IACL,cAAc,EAAE,iCAAiC;IACjD,6BAA6B,EAAE;EACnC;AACJ,CAAC,CAAC;AAEF,SAASE,gBAAgB,GAAI;EACzB,IAAIC,MAAM,GAAGC,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;EACpD,IAAIF,MAAM,KAAK,IAAI,EAAE,OAAO,EAAE;EAC9B,OAAOA,MAAM;AACjB;AAEAN,YAAY,CAACS,YAAY,CAACC,OAAO,CAACC,GAAG,CAChCC,MAAM,IAAK;EACRA,MAAM,CAACT,OAAO,CAACU,aAAa,GAAGR,gBAAgB,EAAE;EACjD,OAAOO,MAAM;AACjB,CAAC,CACJ;AAEDR,YAAY,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAChCC,MAAM,IAAK;EACRA,MAAM,CAACT,OAAO,CAACU,aAAa,GAAGR,gBAAgB,EAAE;EACjD,OAAOO,MAAM;AACjB,CAAC,CACJ;AAED,MAAME,QAAQ,GAAIC,IAAI,IAAK;EACvB,IAAGA,IAAI,KAAG,MAAM,EAAC;IACb,OAAOf,YAAY;EACvB;EACA,IAAGe,IAAI,KAAG,MAAM,EAAC;IACb,OAAOX,YAAY;EACvB;AACJ,CAAC;AAED,eAAeU,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}