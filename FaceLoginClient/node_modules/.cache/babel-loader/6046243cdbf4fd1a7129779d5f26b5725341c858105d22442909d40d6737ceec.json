{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wanjo\\\\IdeaProjects\\\\FaceLogin\\\\FaceLoginClient\\\\src\\\\views\\\\pages\\\\login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { CButton, CCard, CCardBody, CCardGroup, CCol, CContainer, CRow } from '@coreui/react';\nimport dataService from \"../../../tool/dataService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const handleLogin = (postData, targetUrl) => {\n    console.log('Printing postData=', postData);\n    console.log('Printing targetUrl=', targetUrl);\n    dataService.exeJson(targetUrl, postData).then(response => {\n      console.log('response successfully', response.data);\n      initLogin(response.data);\n    }).catch(error => {\n      console.log('Something wrong', error);\n    });\n  };\n  const initLogin = data => {\n    if (data.code === 1) {\n      dataService.setAuthorization(data.data.Authorization);\n      dataService.setLoggedUserName(data.data.userTrueName);\n      window.location.href = '/';\n    }\n  };\n  const clearLogin = () => {\n    dataService.logout();\n  };\n\n  /*const script = document.createElement('script');\r\n  script.type = 'text/javascript';\r\n  script.async = true;\r\n  script.src = 'https://cdn.faceio.net/fio.js';\r\n  document.head.appendChild(script);*/\n\n  let myFaceIO;\n  useEffect(() => {\n    //eslint-disable-next-line\n    myFaceIO = new faceIO(\"fioa32c8\");\n    //\"fioab497\" is the public ID of my app after registration.\n    // You need to replace the public ID of your app\n  }, []);\n  const faceSignUp = async () => {\n    myFaceIO.enroll({\n      \"locale\": \"auto\"\n    }).then(userInfo => {\n      console.log(\"facialId: \" + userInfo.facialId);\n      console.log(userInfo);\n      handleLogin(userInfo, \"login/signUp\");\n    }).catch(errCode => {\n      console.log(errCode);\n    });\n  };\n  const faceSignIn = async () => {\n    myFaceIO.authenticate({\n      \"locale\": \"auto\"\n    }).then(userInfo => {\n      console.log(\"facialId: \" + userInfo.facialId);\n      console.log(userInfo);\n      handleLogin(userInfo, \"login/signIn\");\n    }).catch(errCode => {\n      console.log(errCode);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-light min-vh-100 d-flex flex-row align-items-center\",\n    children: [/*#__PURE__*/_jsxDEV(CContainer, {\n      children: /*#__PURE__*/_jsxDEV(CRow, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(CCol, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(CCardGroup, {\n            children: [/*#__PURE__*/_jsxDEV(CCard, {\n              className: \"p-4\",\n              children: /*#__PURE__*/_jsxDEV(CCardBody, {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Web App Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-medium-emphasis\",\n                  children: \"From Face AI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CRow, {\n                  children: [/*#__PURE__*/_jsxDEV(CCol, {\n                    xs: 6,\n                    className: \"text-right\",\n                    children: /*#__PURE__*/_jsxDEV(CButton, {\n                      color: \"primary\",\n                      className: \"px-4 text-right\",\n                      onClick: faceSignIn,\n                      children: \"Sign In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(CCol, {\n                    xs: 6,\n                    className: \"text-right\",\n                    children: /*#__PURE__*/_jsxDEV(CButton, {\n                      color: \"primary\",\n                      className: \"px-4 text-right\",\n                      onClick: faceSignUp,\n                      children: \"Sign Up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CCard, {\n              className: \"text-white bg-primary py-5\",\n              children: /*#__PURE__*/_jsxDEV(CCardBody, {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Face Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Automatic login using AI for face recognition\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), clearLogin()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CRow","dataService","Login","handleLogin","postData","targetUrl","console","log","exeJson","then","response","data","initLogin","catch","error","code","setAuthorization","Authorization","setLoggedUserName","userTrueName","window","location","href","clearLogin","logout","myFaceIO","faceIO","faceSignUp","enroll","userInfo","facialId","errCode","faceSignIn","authenticate"],"sources":["C:/Users/wanjo/IdeaProjects/FaceLogin/FaceLoginClient/src/views/pages/login/Login.js"],"sourcesContent":["import React, {useEffect} from 'react'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardGroup,\r\n  CCol,\r\n  CContainer,\r\n  CRow,\r\n} from '@coreui/react'\r\n\r\nimport dataService from \"../../../tool/dataService\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n  const handleLogin = (postData,targetUrl) => {\r\n    console.log('Printing postData=', postData);\r\n    console.log('Printing targetUrl=', targetUrl);\r\n    dataService.exeJson(targetUrl,postData)\r\n        .then(response => {\r\n          console.log('response successfully', response.data);\r\n          initLogin(response.data)\r\n        })\r\n        .catch(error => {\r\n          console.log('Something wrong', error);\r\n        })\r\n  }\r\n\r\n  const initLogin=(data)=>{\r\n    if(data.code===1){\r\n      dataService.setAuthorization(data.data.Authorization)\r\n      dataService.setLoggedUserName(data.data.userTrueName)\r\n      window.location.href='/'\r\n    }\r\n  }\r\n\r\n  const clearLogin=()=>{\r\n    dataService.logout()\r\n  }\r\n\r\n  /*const script = document.createElement('script');\r\n  script.type = 'text/javascript';\r\n  script.async = true;\r\n  script.src = 'https://cdn.faceio.net/fio.js';\r\n  document.head.appendChild(script);*/\r\n\r\n  let myFaceIO;\r\n\r\n  useEffect(()=>{\r\n    //eslint-disable-next-line\r\n    myFaceIO = new faceIO(\"fioa32c8\");\r\n    //\"fioab497\" is the public ID of my app after registration.\r\n    // You need to replace the public ID of your app\r\n  },[])\r\n\r\n  const faceSignUp = async ()=>{\r\n    myFaceIO.enroll({\r\n      \"locale\": \"auto\"\r\n    }).then(userInfo => {\r\n      console.log(\"facialId: \" + userInfo.facialId)\r\n      console.log(userInfo);\r\n      handleLogin(userInfo,\"login/signUp\");\r\n    }).catch(errCode => {\r\n      console.log(errCode);\r\n    })\r\n  }\r\n\r\n\r\n  const faceSignIn = async ()=>{\r\n    myFaceIO.authenticate({\r\n      \"locale\": \"auto\"\r\n    }).then(userInfo => {\r\n      console.log(\"facialId: \" + userInfo.facialId)\r\n      console.log(userInfo);\r\n      handleLogin(userInfo,\"login/signIn\");\r\n    }).catch(errCode => {\r\n      console.log(errCode);\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\r\n      <CContainer>\r\n        <CRow className=\"justify-content-center\">\r\n          <CCol md={8}>\r\n            <CCardGroup>\r\n              <CCard className=\"p-4\">\r\n                <CCardBody>\r\n                    <h1>Web App Login</h1>\r\n                    <p className=\"text-medium-emphasis\">From Face AI</p>\r\n                    <CRow>\r\n                      <CCol xs={6} className=\"text-right\">\r\n                        <CButton color=\"primary\" className=\"px-4 text-right\" onClick={faceSignIn}>\r\n                          Sign In\r\n                        </CButton>\r\n                      </CCol>\r\n                      <CCol xs={6} className=\"text-right\">\r\n                        <CButton color=\"primary\" className=\"px-4 text-right\" onClick={faceSignUp}>\r\n                          Sign Up\r\n                        </CButton>\r\n                      </CCol>\r\n                    </CRow>\r\n                </CCardBody>\r\n              </CCard>\r\n              <CCard className=\"text-white bg-primary py-5\">\r\n                <CCardBody className=\"text-center\">\r\n                  <div>\r\n                    <h2>Face Login</h2>\r\n                    <h2>Automatic login using AI for face recognition</h2>\r\n                  </div>\r\n                </CCardBody>\r\n              </CCard>\r\n            </CCardGroup>\r\n          </CCol>\r\n        </CRow>\r\n      </CContainer>\r\n      {clearLogin()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}